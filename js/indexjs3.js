var Shares={title:"Поделиться",width:600,height:400,init:function(){for(var t=document.querySelectorAll(".social"),e=0,i=t.length;e<i;e++)for(var n=t[e].getAttribute("data-url")||location.href,h=t[e].getAttribute("data-title")||"",o=t[e].getAttribute("data-desc")||"",r=t[e].querySelectorAll("a"),s=0,c=r.length;s<c;s++){var d=r[s].getAttribute("data-id");d&&this.addEventListener(r[s],"click",{id:d,url:n,title:h,desc:o})}},addEventListener:function(t,e,i){var n=this,h=function(){n.share(i.id,i.url,i.title,i.desc)};t.addEventListener?t.addEventListener(e,h):t.attachEvent("on"+e,(function(){h.call(t)}))},share:function(t,e,i,n){switch(e=encodeURIComponent(e),n=encodeURIComponent(n),i=encodeURIComponent(i),t){case"fb":this.popupCenter("https://www.facebook.com/sharer/sharer.php?u="+e,this.title,this.width,this.height);break;case"vk":this.popupCenter("https://vk.com/share.php?url="+e+"&description="+i+". "+n,this.title,this.width,this.height);break;case"tw":var h=i||n||"";i.length>0&&n.length>0&&(h=i+" - "+n),h.length>0&&(h="&text="+h),this.popupCenter("https://twitter.com/intent/tweet?url="+e+h,this.title,this.width,this.height);break;case"gp":this.popupCenter("https://plus.google.com/share?url="+e,this.title,this.width,this.height);break;case"ok":this.popupCenter("https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl="+e,this.title,this.width,this.height)}},newTab:function(t){window.open(t,"_blank").focus()},popupCenter:function(t,e,i,n){var h=void 0!==window.screenLeft?window.screenLeft:screen.left,o=void 0!==window.screenTop?window.screenTop:screen.top,r=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-i/2+h,s=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-n/3+o,c=window.open(t,e,"scrollbars=yes, width="+i+", height="+n+", top="+s+", left="+r);window.focus&&c.focus()}};$(".social a").on("click",(function(){var t=$(this).data("id");if(t){var e=$(this).parent(".social"),i=e.data("url")||location.href,n=e.data("title")||"",h=e.data("desc")||"";Shares.share(t,i,n,h)}}));